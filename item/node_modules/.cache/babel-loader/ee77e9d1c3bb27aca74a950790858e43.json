{"remainingRequest":"E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\node_modules\\babel-loader\\lib\\index.js!E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\src\\utils\\axios.js","dependencies":[{"path":"E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\src\\utils\\axios.js","mtime":1685413961468},{"path":"E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\babel.config.js","mtime":1682257123000},{"path":"E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1683432540690},{"path":"E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\node_modules\\babel-loader\\lib\\index.js","mtime":1683432547123}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRTovXHU3ODE0XHU0RTAwXHU0RTBCL1Z1ZVx1NUI2Nlx1NEU2MC9cdTUyNERcdTdBRUYvdnVlX25vZGVfYWRtaW4tbWFzdGVyL2l0ZW0vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKLy8gMS7lvJXlhaV2dWUKLy8gaW1wb3J0IFZ1ZSBmcm9tICd2dWUnCi8vIDIu5byV5YWlYXhpb3PlupMKaW1wb3J0IHJlcXVlc3RBeGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCByb3V0ZXIgZnJvbSAiQC9yb3V0ZXIvaW5kZXgiOwppbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZSc7IC8v5byV5YWlc3RvcmUodnVleCkKCmltcG9ydCB7IE1lc3NhZ2UgfSBmcm9tICJlbGVtZW50LXVpIjsKaW1wb3J0IHsgZ2V0VG9rZW4sIHNldFRva2VuLCByZW1vdmVUb2tlbiB9IGZyb20gIkAvdXRpbHMvYXV0aCI7CnJlcXVlc3RBeGlvcy5kZWZhdWx0cy50aW1lb3V0ID0gNTAwMDsgLy8g6K+35rGC6LaF5pe25pe26Ze0CgpyZXF1ZXN0QXhpb3MuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKCAvLyDor7fmsYLmi6bmiKoKZnVuY3Rpb24gKGNvbmZpZykgewogIGlmIChnZXRUb2tlbigpKSBjb25maWcuaGVhZGVycy5jb21tb25bInRva2VuIl0gPSBnZXRUb2tlbigpOwogIHJldHVybiBjb25maWc7Cn0sIGZ1bmN0aW9uIChlcnIpIHsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTsKfSk7CnJlcXVlc3RBeGlvcy5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXNwb25zZSkgewogIC8vIOWTjeW6lOaLpuaIqgogIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YTsKCiAgaWYgKGRhdGEuY29kZSA9PSAtMSkgewogICAgTWVzc2FnZS5lcnJvcihkYXRhLm1zZyB8fCAi6K+35rGC5byC5bi477yBIik7CiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZGF0YSk7CiAgfQoKICBpZiAoZGF0YS5jb2RlID09IDIwMykgewogICAgTWVzc2FnZS5lcnJvcihkYXRhLm1zZyB8fCAi55m76ZmG5aSx5pWI77yBIik7CiAgICByZW1vdmVUb2tlbigpOwogICAgc3RvcmUuZGlzcGF0Y2goJ3VzZXIvbG9nb3V0Jyk7CiAgICByb3V0ZXIucHVzaCgiL2xvZ2luIik7CiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZGF0YSk7CiAgfQoKICB0cnkgewogICAgaWYgKGRhdGEuZGF0YS50b2tlbikgc2V0VG9rZW4oZGF0YS5kYXRhLnRva2VuKTsKICB9IGNhdGNoIChlcnIpIHt9CgogIHJldHVybiByZXNwb25zZTsKfSwgZnVuY3Rpb24gKGVycikgewogIE1lc3NhZ2UuZXJyb3IoIuivt+axguW8guW4uO+8ge+8gSIpOwogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnIpOwp9KTsgLy8gcmVxdWVzdEF4aW9zLmRlZmF1bHRzLmJhc2VVUkw9IiIKCnZhciBheGlvcyA9IGZ1bmN0aW9uIGF4aW9zKCkgewogIHZhciBfcmVmID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fSwKICAgICAgcGF0aCA9IF9yZWYucGF0aCwKICAgICAgX3JlZiRtZXRob2QgPSBfcmVmLm1ldGhvZCwKICAgICAgbWV0aG9kID0gX3JlZiRtZXRob2QgPT09IHZvaWQgMCA/ICJQT1NUIiA6IF9yZWYkbWV0aG9kLAogICAgICBfcmVmJGRhdGEgPSBfcmVmLmRhdGEsCiAgICAgIGRhdGEgPSBfcmVmJGRhdGEgPT09IHZvaWQgMCA/IHt9IDogX3JlZiRkYXRhOwoKICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgdmFyIGRhdGFzID0gewogICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGRhdGEpCiAgICB9OwogICAgaWYgKG1ldGhvZCA9PT0gIlBPU1QiKSBkYXRhcyA9IF9vYmplY3RTcHJlYWQoe30sIHsKICAgICAgZGF0YTogZGF0YQogICAgfSk7CiAgICByZXF1ZXN0QXhpb3MoX29iamVjdFNwcmVhZCh7CiAgICAgIHVybDogcHJvY2Vzcy5lbnYuVlVFX0FQUF9CQVNFX0FQSSArIHBhdGgsCiAgICAgIG1ldGhvZDogbWV0aG9kCiAgICB9LCBkYXRhcykpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICByZXNvbHZlKHJlcy5kYXRhKTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgcmVqZWN0KGVycik7CiAgICB9KTsKICB9KTsKfTsKCmV4cG9ydCBkZWZhdWx0IGF4aW9zOw=="},{"version":3,"sources":["E:/研一下/Vue学习/前端/vue_node_admin-master/item/src/utils/axios.js"],"names":["requestAxios","router","store","Message","getToken","setToken","removeToken","defaults","timeout","interceptors","request","use","config","headers","common","err","Promise","reject","response","data","code","error","msg","dispatch","push","token","axios","path","method","resolve","datas","params","url","process","env","VUE_APP_BASE_API","then","res","catch"],"mappings":"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","sourcesContent":["// 1.引入vue\n// import Vue from 'vue'\n// 2.引入axios库\nimport requestAxios from \"axios\";\nimport router from \"@/router/index\";\nimport store from '@/store'//引入store(vuex)\nimport { Message } from \"element-ui\";\nimport { getToken, setToken, removeToken } from \"@/utils/auth\";\n\nrequestAxios.defaults.timeout = 5000; // 请求超时时间\n\nrequestAxios.interceptors.request.use(\n  // 请求拦截\n  (config) => {\n    if (getToken()) config.headers.common[\"token\"] = getToken();\n    return config;\n  },\n\n  (err) => {\n    return Promise.reject(err);\n  }\n);\n\nrequestAxios.interceptors.response.use(\n  (response) => {\n    // 响应拦截\n    let { data } = response;\n    if (data.code == -1) {\n      Message.error(data.msg || \"请求异常！\");\n      return Promise.reject(data);\n    }\n    if (data.code == 203) {\n      Message.error(data.msg || \"登陆失效！\");\n      removeToken();\n      store.dispatch('user/logout');\n      router.push(\"/login\");\n      return Promise.reject(data);\n    }\n    try {\n      if (data.data.token) setToken(data.data.token);\n    } catch (err) {\n\n    }\n    return response;\n  },\n  (err) => {\n    Message.error(\"请求异常！！\");\n    return Promise.reject(err);\n  }\n);\n// requestAxios.defaults.baseURL=\"\"\nconst axios = function ({ path, method = \"POST\", data = {} } = {}) {\n  return new Promise((resolve, reject) => {\n    let datas = { params: { ...data } };\n    if (method === \"POST\") datas = { ...{ data } };\n    requestAxios({\n      url:process.env.VUE_APP_BASE_API+path,\n      method,\n      ...datas,\n    })\n      .then((res) => {\n          resolve(res.data);\n      })\n      .catch((err) => {\n        reject(err);\n      });\n  });\n};\nexport default axios;\n"]}]}