{"remainingRequest":"E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\node_modules\\babel-loader\\lib\\index.js!E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\src\\store\\modules\\user.js","dependencies":[{"path":"E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\src\\store\\modules\\user.js","mtime":1682257123000},{"path":"E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\babel.config.js","mtime":1682257123000},{"path":"E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1683432540690},{"path":"E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\node_modules\\babel-loader\\lib\\index.js","mtime":1683432547123}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkU6L1x1NzgxNFx1NEUwMFx1NEUwQi9WdWVcdTVCNjZcdTRFNjAvXHU1MjREXHU3QUVGL3Z1ZV9ub2RlX2FkbWluLW1hc3Rlci9pdGVtL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCB7IGdldFRva2VuLCBzZXRUb2tlbiwgcmVtb3ZlVG9rZW4gfSBmcm9tICdAL3V0aWxzL2F1dGgnOwppbXBvcnQgcm91dGVyLCB7IHJlc2V0Um91dGVyIH0gZnJvbSAnQC9yb3V0ZXInOwppbXBvcnQgeyBnZXRVc2VySW5mbyB9IGZyb20gIkAvYXBpL2FkbWluIjsKdmFyIHN0YXRlID0gewogIHRva2VuOiBnZXRUb2tlbigpLAogIG5hbWU6ICcnLAogIGF2YXRhcjogJycsCiAgcm9sZXM6IFtdLAogIC8v6KeS6Imy5p2D6ZmQCiAgYWRtaW46IGZhbHNlIC8v5oC7566h55CG5ZGY5Yik5patCgp9Owp2YXIgbXV0YXRpb25zID0gewogIFNFVF9UT0tFTjogZnVuY3Rpb24gU0VUX1RPS0VOKHN0YXRlLCB0b2tlbikgewogICAgc3RhdGUudG9rZW4gPSB0b2tlbjsKICB9LAogIFNFVF9JTlRST0RVQ1RJT046IGZ1bmN0aW9uIFNFVF9JTlRST0RVQ1RJT04oc3RhdGUsIGludHJvZHVjdGlvbikgewogICAgc3RhdGUuaW50cm9kdWN0aW9uID0gaW50cm9kdWN0aW9uOwogIH0sCiAgU0VUX05BTUU6IGZ1bmN0aW9uIFNFVF9OQU1FKHN0YXRlLCBuYW1lKSB7CiAgICBzdGF0ZS5uYW1lID0gbmFtZTsKICB9LAogIFNFVF9BVkFUQVI6IGZ1bmN0aW9uIFNFVF9BVkFUQVIoc3RhdGUsIGF2YXRhcikgewogICAgc3RhdGUuYXZhdGFyID0gYXZhdGFyOwogIH0sCiAgU0VUX1JPTEVTOiBmdW5jdGlvbiBTRVRfUk9MRVMoc3RhdGUsIHJvbGVzKSB7CiAgICBzdGF0ZS5yb2xlcyA9IHJvbGVzOwogIH0sCiAgU0VUX0FETUlOOiBmdW5jdGlvbiBTRVRfQURNSU4oc3RhdGUsIGFkbWluKSB7CiAgICBzdGF0ZS5hZG1pbiA9IGFkbWluOwogIH0KfTsKCmZ1bmN0aW9uIHNldFRoZW1lKG5hbWUsIHZhbCkgewogIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdib2R5JylbMF0uc3R5bGUuc2V0UHJvcGVydHkobmFtZSwgdmFsKTsKfQoKOwp2YXIgYWN0aW9ucyA9IHsKICAvLyB1c2VyIGxvZ2luCiAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKF9yZWYsIHVzZXJJbmZvKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICB2YXIgdXNlcm5hbWUgPSB1c2VySW5mby51c2VybmFtZSwKICAgICAgICBwYXNzd29yZCA9IHVzZXJJbmZvLnBhc3N3b3JkOwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgdmFyIF9yZXNwb25zZSA9IHJlc3BvbnNlLAogICAgICAgICAgZGF0YSA9IF9yZXNwb25zZS5kYXRhOwogICAgICBjb21taXQoJ1NFVF9UT0tFTicsIGRhdGEudG9rZW4pOwogICAgICBzZXRUb2tlbihkYXRhLnRva2VuKTsKICAgICAgcmVzb2x2ZSgpOwogICAgfSk7CiAgfSwKICAvLyBnZXQgdXNlciBpbmZvCiAgZ2V0SW5mbzogZnVuY3Rpb24gZ2V0SW5mbyhfcmVmMikgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgY29tbWl0LCBkaXNwYXRjaCwgX3lpZWxkJGdldFVzZXJJbmZvLCB1c2VyLCBfdXNlciR0aGVtZSwgbWVudUJnLCBtZW51SG92ZXJCZywgbWVudUFjdGl2ZVRleHQsIG1lbnVTdWJBY3RpdmVUZXh0LCBtZW51U3ViQmcsIG1lbnVUZXh0OwoKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYyLmNvbW1pdCwgZGlzcGF0Y2ggPSBfcmVmMi5kaXNwYXRjaDsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gZ2V0VXNlckluZm8oKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBfeWllbGQkZ2V0VXNlckluZm8gPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIHVzZXIgPSBfeWllbGQkZ2V0VXNlckluZm8uZGF0YTsKICAgICAgICAgICAgICBjb21taXQoJ1NFVF9ST0xFUycsIHVzZXIucm9sZUtleSk7CiAgICAgICAgICAgICAgY29tbWl0KCdTRVRfTkFNRScsIHVzZXIudXNlci5uYW1lKTsKICAgICAgICAgICAgICBjb21taXQoJ1NFVF9BRE1JTicsICEhdXNlci51c2VyLmFkbWluIHx8ICEhdXNlci5yb2xlQWRtaW4pOwogICAgICAgICAgICAgIGNvbW1pdCgnU0VUX0FWQVRBUicsICJodHRwOi8vb3JkZXJtb2JpbGUueWtuYmEuY24vaW1nL2JnLjJmYTVjYjA5LmpwZyIpOwoKICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgLy/lpITnkIbkuLvpopgKICAgICAgICAgICAgICAgIF91c2VyJHRoZW1lID0gdXNlci50aGVtZSwgbWVudUJnID0gX3VzZXIkdGhlbWUubWVudUJnLCBtZW51SG92ZXJCZyA9IF91c2VyJHRoZW1lLm1lbnVIb3ZlckJnLCBtZW51QWN0aXZlVGV4dCA9IF91c2VyJHRoZW1lLm1lbnVBY3RpdmVUZXh0LCBtZW51U3ViQWN0aXZlVGV4dCA9IF91c2VyJHRoZW1lLm1lbnVTdWJBY3RpdmVUZXh0LCBtZW51U3ViQmcgPSBfdXNlciR0aGVtZS5tZW51U3ViQmcsIG1lbnVUZXh0ID0gX3VzZXIkdGhlbWUubWVudVRleHQ7CiAgICAgICAgICAgICAgICBzZXRUaGVtZSgiLS1tZW51QmctY29sb3IiLCBtZW51QmcpOwogICAgICAgICAgICAgICAgc2V0VGhlbWUoIi0tbWVudVN1YkJnLWNvbG9yIiwgbWVudVN1YkJnKTsKICAgICAgICAgICAgICAgIHNldFRoZW1lKCItLW1lbnVUZXh0LWNvbG9yIiwgbWVudVRleHQpOwogICAgICAgICAgICAgICAgc2V0VGhlbWUoIi0tbWVudUFjdGl2ZVRleHQtY29sb3IiLCBtZW51QWN0aXZlVGV4dCk7CiAgICAgICAgICAgICAgICBzZXRUaGVtZSgiLS1tZW51U3ViQWN0aXZlVGV4dC1jb2xvciIsIG1lbnVTdWJBY3RpdmVUZXh0KTsKICAgICAgICAgICAgICAgIHNldFRoZW1lKCItLW1lbnVIb3ZlckJnLWNvbG9yIiwgbWVudUhvdmVyQmcpOwoKICAgICAgICAgICAgICAgIF90aGlzLmRpc3BhdGNoKCdzZXR0aW5ncy9jaGFuZ2VTZXR0aW5nJywgewogICAgICAgICAgICAgICAgICBrZXk6ICd0aGVtZScsCiAgICAgICAgICAgICAgICAgIHZhbHVlOiBtZW51QmcKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9CgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHVzZXIpOwoKICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIC8vIHVzZXIgbG9nb3V0CiAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoX3JlZjMpIHsKICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQsCiAgICAgICAgc3RhdGUgPSBfcmVmMy5zdGF0ZSwKICAgICAgICBkaXNwYXRjaCA9IF9yZWYzLmRpc3BhdGNoOwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgY29tbWl0KCdTRVRfVE9LRU4nLCAnJyk7CiAgICAgIGNvbW1pdCgnU0VUX1JPTEVTJywgW10pOwogICAgICByZW1vdmVUb2tlbigpOwogICAgICByZXNldFJvdXRlcigpOyAvLyByZXNldCB2aXNpdGVkIHZpZXdzIGFuZCBjYWNoZWQgdmlld3MKICAgICAgLy8gdG8gZml4ZWQgaHR0cHM6Ly9naXRodWIuY29tL1BhbkppYUNoZW4vdnVlLWVsZW1lbnQtYWRtaW4vaXNzdWVzLzI0ODUKCiAgICAgIGRpc3BhdGNoKCd0YWdzVmlldy9kZWxBbGxWaWV3cycsIG51bGwsIHsKICAgICAgICByb290OiB0cnVlCiAgICAgIH0pOwogICAgICByZXNvbHZlKCk7CiAgICB9KTsKICB9LAogIC8vIHJlbW92ZSB0b2tlbgogIHJlc2V0VG9rZW46IGZ1bmN0aW9uIHJlc2V0VG9rZW4oX3JlZjQpIHsKICAgIHZhciBjb21taXQgPSBfcmVmNC5jb21taXQ7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgY29tbWl0KCdTRVRfVE9LRU4nLCAnJyk7CiAgICAgIGNvbW1pdCgnU0VUX1JPTEVTJywgW10pOwogICAgICByZW1vdmVUb2tlbigpOwogICAgICByZXNvbHZlKCk7CiAgICB9KTsKICB9LAogIC8vIGR5bmFtaWNhbGx5IG1vZGlmeSBwZXJtaXNzaW9ucwogIGNoYW5nZVJvbGVzOiBmdW5jdGlvbiBjaGFuZ2VSb2xlcyhfcmVmNSwgcm9sZSkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgIHZhciBjb21taXQsIGRpc3BhdGNoLCB0b2tlbiwgYWNjZXNzUm91dGVzOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWY1LmNvbW1pdCwgZGlzcGF0Y2ggPSBfcmVmNS5kaXNwYXRjaDsKICAgICAgICAgICAgICB0b2tlbiA9IHJvbGUgKyAnLXRva2VuJzsKICAgICAgICAgICAgICBjb21taXQoJ1NFVF9UT0tFTicsIHRva2VuKTsKICAgICAgICAgICAgICBzZXRUb2tlbih0b2tlbik7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2OwogICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgnZ2V0SW5mbycpOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIHJlc2V0Um91dGVyKCk7IC8vIGdlbmVyYXRlIGFjY2Vzc2libGUgcm91dGVzIG1hcCBiYXNlZCBvbiByb2xlcwoKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDk7CiAgICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCdwZXJtaXNzaW9uL2dlbmVyYXRlUm91dGVzJyk7CgogICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgYWNjZXNzUm91dGVzID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgLy8gZHluYW1pY2FsbHkgYWRkIGFjY2Vzc2libGUgcm91dGVzCiAgICAgICAgICAgICAgcm91dGVyLmFkZFJvdXRlcyhhY2Nlc3NSb3V0ZXMpOyAvLyByZXNldCB2aXNpdGVkIHZpZXdzIGFuZCBjYWNoZWQgdmlld3MKCiAgICAgICAgICAgICAgZGlzcGF0Y2goJ3RhZ3NWaWV3L2RlbEFsbFZpZXdzJywgbnVsbCwgewogICAgICAgICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyKTsKICAgIH0pKSgpOwogIH0KfTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IHN0YXRlLAogIG11dGF0aW9uczogbXV0YXRpb25zLAogIGFjdGlvbnM6IGFjdGlvbnMKfTs="},{"version":3,"sources":["E:/研一下/Vue学习/前端/vue_node_admin-master/item/src/store/modules/user.js"],"names":["getToken","setToken","removeToken","router","resetRouter","getUserInfo","state","token","name","avatar","roles","admin","mutations","SET_TOKEN","SET_INTRODUCTION","introduction","SET_NAME","SET_AVATAR","SET_ROLES","SET_ADMIN","setTheme","val","document","getElementsByTagName","style","setProperty","actions","login","userInfo","commit","username","password","Promise","resolve","reject","response","data","getInfo","dispatch","user","roleKey","roleAdmin","theme","menuBg","menuHoverBg","menuActiveText","menuSubActiveText","menuSubBg","menuText","key","value","e","logout","root","resetToken","changeRoles","role","accessRoutes","addRoutes","namespaced"],"mappings":"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","sourcesContent":["import {getToken, setToken, removeToken} from '@/utils/auth';\nimport router, {resetRouter} from '@/router';\nimport {getUserInfo} from \"@/api/admin\";\n\nconst state = {\n    token: getToken(),\n    name: '',\n    avatar: '',\n    roles: [],//角色权限\n    admin:false//总管理员判断\n};\nconst mutations = {\n    SET_TOKEN: (state, token) => {\n        state.token = token;\n    },\n    SET_INTRODUCTION: (state, introduction) => {\n        state.introduction = introduction;\n    },\n    SET_NAME: (state, name) => {\n        state.name = name;\n    },\n    SET_AVATAR: (state, avatar) => {\n        state.avatar = avatar;\n    },\n    SET_ROLES: (state, roles) => {\n        state.roles = roles;\n    },\n    SET_ADMIN: (state, admin) => {\n        state.admin = admin;\n    },\n};\nfunction setTheme(name,val){\n    document.getElementsByTagName('body')[0].style.setProperty(name,val);\n};\nconst actions = {\n    // user login\n    login({commit}, userInfo) {\n        const {username, password} = userInfo;\n        return new Promise((resolve, reject) => {\n            const {data} = response;\n            commit('SET_TOKEN', data.token);\n            setToken(data.token);\n            resolve();\n        });\n    },\n    // get user info\n    async getInfo({commit,dispatch}) {\n        let {data:user}=await getUserInfo();\n        commit('SET_ROLES', user.roleKey);\n        commit('SET_NAME', user.user.name);\n        commit('SET_ADMIN', !!user.user.admin||!!user.roleAdmin);\n        commit('SET_AVATAR', \"http://ordermobile.yknba.cn/img/bg.2fa5cb09.jpg\");\n        try {\n            //处理主题\n            let {menuBg,menuHoverBg,menuActiveText,menuSubActiveText,menuSubBg,menuText}=user.theme;\n            setTheme(\"--menuBg-color\",menuBg);setTheme(\"--menuSubBg-color\",menuSubBg);setTheme(\"--menuText-color\",menuText);setTheme(\"--menuActiveText-color\",menuActiveText);setTheme(\"--menuSubActiveText-color\",menuSubActiveText);setTheme(\"--menuHoverBg-color\",menuHoverBg);\n            this.dispatch('settings/changeSetting', {\n                key: 'theme',\n                value: menuBg\n            });\n        }catch (e) {\n\n        }\n        return user;\n    },\n    // user logout\n    logout({commit, state, dispatch}) {\n        return new Promise((resolve, reject) => {\n            commit('SET_TOKEN', '');\n            commit('SET_ROLES', []);\n            removeToken();\n            resetRouter();\n            // reset visited views and cached views\n            // to fixed https://github.com/PanJiaChen/vue-element-admin/issues/2485\n            dispatch('tagsView/delAllViews', null, {root: true});\n            resolve();\n        });\n    },\n    // remove token\n    resetToken({commit}) {\n        return new Promise((resolve) => {\n            commit('SET_TOKEN', '');\n            commit('SET_ROLES', []);\n            removeToken();\n            resolve();\n        });\n    },\n    // dynamically modify permissions\n    async changeRoles({commit, dispatch}, role) {\n        const token = role + '-token';\n        commit('SET_TOKEN', token);\n        setToken(token);\n        await dispatch('getInfo');\n        resetRouter();\n        // generate accessible routes map based on roles\n        const accessRoutes = await dispatch('permission/generateRoutes');\n        // dynamically add accessible routes\n        router.addRoutes(accessRoutes);\n        // reset visited views and cached views\n        dispatch('tagsView/delAllViews', null, {root: true});\n    },\n};\nexport default {\n    namespaced: true,\n    state,\n    mutations,\n    actions,\n};\n"]}]}