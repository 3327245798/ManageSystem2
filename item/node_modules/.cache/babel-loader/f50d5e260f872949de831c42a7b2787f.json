{"remainingRequest":"E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\node_modules\\babel-loader\\lib\\index.js!E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\src\\views\\admin\\role.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\src\\views\\admin\\role.vue","mtime":1682257123000},{"path":"E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\babel.config.js","mtime":1682257123000},{"path":"E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1683432540690},{"path":"E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\node_modules\\babel-loader\\lib\\index.js","mtime":1683432547123},{"path":"E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1683432540690},{"path":"E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\node_modules\\vue-loader\\lib\\index.js","mtime":1683432523461}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRTovXHU3ODE0XHU0RTAwXHU0RTBCL1Z1ZVx1NUI2Nlx1NEU2MC9cdTUyNERcdTdBRUYvdnVlX25vZGVfYWRtaW4tbWFzdGVyL2l0ZW0vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRTovXHU3ODE0XHU0RTAwXHU0RTBCL1Z1ZVx1NUI2Nlx1NEU2MC9cdTUyNERcdTdBRUYvdnVlX25vZGVfYWRtaW4tbWFzdGVyL2l0ZW0vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBnZXRSb3V0ZXJTeXN0ZW0gYXMgX2dldFJvdXRlclN5c3RlbSwgZ2V0Um9sZXMgYXMgX2dldFJvbGVzLCBhZGRSb2xlcywgdXBSb2xlcywgZGVsUm9sZXMgfSBmcm9tICJAL2FwaS9hZG1pbiI7CmltcG9ydCB7IGZvcm1hdERhdGUgfSBmcm9tICJAL3V0aWxzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJSb2xlIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcXVlcnlQYXJhbXM6IHsKICAgICAgICBwYWdlOiAxLAogICAgICAgIHNpemU6IDEwCiAgICAgIH0sCiAgICAgIHRvdGFsOiAwLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgYWRkTG9hZGluZzogZmFsc2UsCiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICByb3V0ZXJNZW51OiBbXSwKICAgICAgcHJvcHM6IHsKICAgICAgICBsYWJlbDogZnVuY3Rpb24gbGFiZWwodCkgewogICAgICAgICAgcmV0dXJuIHQubWV0YS50aXRsZTsKICAgICAgICB9LAogICAgICAgIGNoaWxkcmVuOiAiY2hpbGRyZW4iCiAgICAgIH0sCiAgICAgIGZvcm06IHt9LAogICAgICBydWxlczogewogICAgICAgIG5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXop5LoibLlkI3np7AnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgcm9sZXM6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fpgInmi6noj5zljZXmnYPpmZAnLAogICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgICB9XQogICAgICB9LAogICAgICByb2xlc0FycjogW10sCiAgICAgIHNlYXJjaDogIiIsCiAgICAgIG5hbWU6ICIiLAogICAgICByb2xlczogW10sCiAgICAgIGNoZWNrZWRSb2xlczogW10sCiAgICAgIGlkOiB1bmRlZmluZWQKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRSb3V0ZXJTeXN0ZW0oKTsKICAgIHRoaXMuZ2V0Um9sZXMoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGZvcm1hdHRlckNyZWF0ZVRpbWU6IGZ1bmN0aW9uIGZvcm1hdHRlckNyZWF0ZVRpbWUocm93KSB7CiAgICAgIHJldHVybiBmb3JtYXREYXRlKHJvdy5jcmVhdGVUaW1lKTsKICAgIH0sCiAgICBoYW5kbGVEZWxldGU6IGZ1bmN0aW9uIGhhbmRsZURlbGV0ZShpbmRleCwgcm93KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRjb25maXJtKCLmraTmk43kvZzlsIbmsLjkuYXliKDpmaTor6Xop5LoibIsIOaYr+WQpue7p+e7rT8iLCAi5o+Q56S6IiwgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAi5Y+W5raIIiwKICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgIH0pLnRoZW4oIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gZGVsUm9sZXMoewogICAgICAgICAgICAgICAgICBpZDogcm93LmlkCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX3RoaXMuZ2V0Um9sZXMoKTsKCiAgICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICLliKDpmaTmiJDlip/vvIEiLAogICAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKTsKICAgIH0sCiAgICBoYW5kbGVFZGl0OiBmdW5jdGlvbiBoYW5kbGVFZGl0KGluZGV4LCByb3cpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgcm9sZXMgPSByb3cucm9sZXM7CiAgICAgIHZhciBjaGVja2VkUm9sZXMgPSByb3cuY2hlY2tlZFJvbGVzLnNwbGl0KCIsIik7CiAgICAgIHZhciByb2xlc0FyciA9IHJvbGVzLnNwbGl0KCIsIik7CiAgICAgIHRoaXMuZm9ybSA9IF9vYmplY3RTcHJlYWQoe30sIHJvdyk7CiAgICAgIHRoaXMucm9sZXMgPSByb2xlc0FycjsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi4kcmVmcy50cmVlLnNldENoZWNrZWRLZXlzKFtdKTsKCiAgICAgICAgX3RoaXMyLmNoZWNrZWRSb2xlcyA9IGNoZWNrZWRSb2xlczsKICAgICAgfSk7CiAgICB9LAogICAgYWZmaXJtOiBmdW5jdGlvbiBhZmZpcm0oKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIHJvbGVzLCBjaGVja2VkUm9sZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHJvbGVzID0gX3RoaXMzLiRyZWZzLnRyZWUuZ2V0Q2hlY2tlZE5vZGVzKGZhbHNlLCB0cnVlKS5tYXAoZnVuY3Rpb24gKHQpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHQuaWQ7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGNoZWNrZWRSb2xlcyA9IF90aGlzMy4kcmVmcy50cmVlLmdldENoZWNrZWRLZXlzKHRydWUpOwoKICAgICAgICAgICAgICAgIF90aGlzMy4kc2V0KF90aGlzMy5mb3JtLCAicm9sZXMiLCByb2xlcy50b1N0cmluZygpKTsKCiAgICAgICAgICAgICAgICBfdGhpczMuZm9ybS5jaGVja2VkUm9sZXMgPSBjaGVja2VkUm9sZXMudG9TdHJpbmcoKTsKCiAgICAgICAgICAgICAgICBfdGhpczMuJHJlZnMuZm9ybS52YWxpZGF0ZSggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMih2YWxpZGF0ZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWRhdGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5hZGRMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF90aGlzMy5mb3JtLmlkOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2NvbnRleHQyLnQwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVwUm9sZXMoX3RoaXMzLmZvcm0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIudDEgPSAhX3RoaXMzLmZvcm0uaWQ7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfY29udGV4dDIudDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhZGRSb2xlcyhfdGhpczMuZm9ybSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuYWRkTG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IF90aGlzMy5mb3JtLmlkID8gIuS/ruaUueaIkOWKnyIgOiAi5re75Yqg5oiQ5Yqf77yBIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuY2xlYXJFdmVudCgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5nZXRSb2xlcygpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDE5OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLnQyID0gX2NvbnRleHQyWyJjYXRjaCJdKDIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLmFkZExvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1syLCAxOV1dKTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY2xlYXJFdmVudDogZnVuY3Rpb24gY2xlYXJFdmVudCgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM0LiRyZWZzLnRyZWUuc2V0Q2hlY2tlZEtleXMoW10pOwogICAgICB9KTsKICAgICAgdGhpcy5mb3JtID0ge307CiAgICAgIHRoaXMucm9sZXMgPSBbXTsKICAgIH0sCiAgICBvcGVuRGlhbG9nOiBmdW5jdGlvbiBvcGVuRGlhbG9nKCkgewogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgICB0aGlzLmNsZWFyRXZlbnQoKTsKICAgIH0sCiAgICBnZXRSb2xlczogZnVuY3Rpb24gZ2V0Um9sZXMoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgdmFyIF95aWVsZCRfZ2V0Um9sZXMsIGRhdGEsIHRvdGFsOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXM1LmxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF9nZXRSb2xlcyhfdGhpczUucXVlcnlQYXJhbXMpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfeWllbGQkX2dldFJvbGVzID0gX2NvbnRleHQ0LnNlbnQ7CiAgICAgICAgICAgICAgICBkYXRhID0gX3lpZWxkJF9nZXRSb2xlcy5kYXRhOwogICAgICAgICAgICAgICAgdG90YWwgPSBfeWllbGQkX2dldFJvbGVzLnRvdGFsOwogICAgICAgICAgICAgICAgX3RoaXM1LmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgIF90aGlzNS5yb2xlc0FyciA9IGRhdGE7CiAgICAgICAgICAgICAgICBfdGhpczUudG90YWwgPSB0b3RhbDsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgaGFuZGxlUXVlcnk6IGZ1bmN0aW9uIGhhbmRsZVF1ZXJ5KCkgewogICAgICB0aGlzLnF1ZXJ5UGFyYW1zLnBhZ2UgPSAxOwogICAgICB0aGlzLmdldFJvbGVzKCk7CiAgICB9LAogICAgZ2V0Um91dGVyU3lzdGVtOiBmdW5jdGlvbiBnZXRSb3V0ZXJTeXN0ZW0oKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7CiAgICAgICAgdmFyIF95aWVsZCRfZ2V0Um91dGVyU3lzdCwgZGF0YSwgcm91dGVyTWVudTsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfZ2V0Um91dGVyU3lzdGVtKCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF95aWVsZCRfZ2V0Um91dGVyU3lzdCA9IF9jb250ZXh0NS5zZW50OwogICAgICAgICAgICAgICAgZGF0YSA9IF95aWVsZCRfZ2V0Um91dGVyU3lzdC5kYXRhOwogICAgICAgICAgICAgICAgcm91dGVyTWVudSA9IGRhdGEucm91dGVyTWVudTsKICAgICAgICAgICAgICAgIF90aGlzNi5yb3V0ZXJNZW51ID0gcm91dGVyTWVudTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU1KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgaGFuZGxlQ2hlY2tDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUNoZWNrQ2hhbmdlKGRhdGEsIGNoZWNrZWQsIGluZGV0ZXJtaW5hdGUpIHt9LAogICAgaGFuZGxlQ2xpY2s6IGZ1bmN0aW9uIGhhbmRsZUNsaWNrKGRhdGEsIGNoZWNrZWQpIHsKICAgICAgdGhpcy5yb2xlcyA9IGNoZWNrZWQuY2hlY2tlZE5vZGVzOwogICAgfQogIH0KfTs="},{"version":3,"mappings":"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","names":["name","data","queryParams","page","size","total","loading","addLoading","dialogVisible","routerMenu","props","label","children","form","rules","required","message","trigger","roles","rolesArr","search","checkedRoles","id","created","methods","formatterCreateTime","row","handleDelete","index","confirmButtonText","cancelButtonText","type","then","delRoles","handleEdit","affirm","validate","upRoles","addRoles","clearEvent","openDialog","getRoles","handleQuery","getRouterSystem","handleCheckChange","checked","indeterminate","handleClick"],"sourceRoot":"src/views/admin","sources":["role.vue"],"sourcesContent":["<template>\n  <div class=\"boxs\">\n    <el-form\n        :model=\"queryParams\"\n        ref=\"queryForm\"\n        :inline=\"true\"\n    >\n      <el-form-item label=\"角色名称\" prop=\"name\">\n        <el-input\n            v-model=\"queryParams.name\"\n            placeholder=\"请输入名称\"\n            clearable\n            size=\"small\"\n        />\n      </el-form-item>\n      <el-form-item>\n        <el-button\n            type=\"primary\"\n            icon=\"el-icon-search\"\n            size=\"small\"\n            @click=\"handleQuery\"\n        >搜索</el-button>\n      </el-form-item>\n    </el-form>\n    <el-button icon=\"el-icon-plus\" type=\"primary\" plain size=\"small\" @click=\"openDialog\">添加角色</el-button>\n    <el-table :data=\"rolesArr\" v-loading=\"loading\">\n      <el-table-column label=\"编号\" prop=\"id\" align=\"center\" width=\"60\" />\n      <el-table-column label=\"角色名称\" prop=\"name\" align=\"center\">\n        <template slot-scope=\"scope\"  >\n          {{ scope.row.name }}\n          <el-tag v-if=\"scope.row.roleKey === 'admin'\" size=\"mini\" effect=\"dark\"\n            >超级管理员</el-tag\n          >\n        </template>\n      </el-table-column>\n      <el-table-column label=\"权限字符\" prop=\"roleKey\" align=\"center\"  />\n      <el-table-column label=\"创建时间\" prop=\"roleKey\" align=\"createTime\" :formatter=\"formatterCreateTime\"  />\n      <el-table-column  width=\"200\" label=\"操作\">\n        <template slot-scope=\"scope\" v-if=\"scope.row.roleKey !== 'admin'\">\n          <el-button size=\"mini\" @click=\"handleEdit(scope.$index, scope.row)\"\n            >编辑</el-button\n          >\n          <el-button\n            size=\"mini\"\n            type=\"danger\"\n            @click=\"handleDelete(scope.$index, scope.row)\"\n            >删除</el-button\n          >\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <pagination\n        v-show=\"total > 0\"\n        :total=\"total\"\n        :page.sync=\"queryParams.page\"\n        :limit.sync=\"queryParams.size\"\n        @pagination=\"getRoles\"\n    />\n\n    <el-dialog title=\"提示\" :visible.sync=\"dialogVisible\" width=\"40%\">\n      <el-form class=\"demo-form-inline\" label-width=\"80px\" :model=\"form\" :rules=\"rules\" ref=\"form\">\n        <el-form-item label=\"角色名称\" prop=\"name\">\n          <el-input v-model=\"form.name\" placeholder=\"请输入角色名称\" />\n        </el-form-item>\n        <el-form-item label=\"权限字符\" prop=\"roleKey\">\n          <el-input v-model=\"form.roleKey\" placeholder=\"请输入权限字符\" />\n        </el-form-item>\n        <el-form-item label=\"菜单权限\" prop=\"roles\">\n          <el-tree\n            ref=\"tree\"\n            :data=\"routerMenu\"\n            :props=\"props\"\n            show-checkbox\n            :check-on-click-node=\"true\"\n            node-key=\"id\"\n            :default-checked-keys=\"checkedRoles\"\n            :default-expanded-keys=\"checkedRoles\"\n            @check-change=\"handleCheckChange\"\n            @check=\"handleClick\"\n          />\n        </el-form-item>\n      </el-form>\n\n      <div slot=\"footer\" class=\"dialog-footer\" v-loading=\"addLoading\">\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\n        <el-button :type=\"form.id ? 'warning' : 'primary'\" @click=\"affirm\">{{\n          form.id ? \"确认修改\" : \"确认添加\"\n        }}</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n<script>\nimport { getRouterSystem, getRoles, addRoles, upRoles, delRoles } from \"@/api/admin\";\nimport {formatDate} from \"@/utils\";\nexport default {\n  name:\"Role\",\n  data() {\n    return {\n      queryParams:{\n        page:1,\n        size:10\n      },\n      total:0,\n      loading:false,\n      addLoading:false,\n      dialogVisible: false,\n      routerMenu: [],\n      props: {\n        label: (t) => t.meta.title,\n        children: \"children\",\n      },\n      form:{},\n      rules:{\n        name:[\n          { required: true, message: '请输入角色名称', trigger: 'blur' },\n        ],\n        roles:[\n          { required: true, message: '请选择菜单权限', trigger: 'change' },\n        ]\n      },\n      rolesArr: [],\n      search: \"\",\n      name: \"\",\n      roles: [],\n      checkedRoles: [],\n      id: undefined,\n    };\n  },\n  created() {\n    this.getRouterSystem();\n    this.getRoles();\n  },\n  methods: {\n    formatterCreateTime(row){\n      return formatDate(row.createTime);\n    },\n    handleDelete(index, row) {\n      this.$confirm(\"此操作将永久删除该角色, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"error\",\n      }).then(async () => {\n        await delRoles({ id: row.id });\n        this.getRoles();\n        this.$message({\n          message: \"删除成功！\",\n          type: \"success\",\n        });\n      });\n    },\n    handleEdit(index, row) {\n      const {  roles } = row;\n      const checkedRoles = row.checkedRoles.split(\",\");\n      const rolesArr = roles.split(\",\");\n      this.form={...row};\n      this.roles = rolesArr;\n      this.dialogVisible = true;\n      this.$nextTick(()=>{\n        this.$refs.tree.setCheckedKeys([]);\n        this.checkedRoles = checkedRoles;\n      })\n    },\n    async affirm() {\n      let roles=this.$refs.tree.getCheckedNodes(false,true).map(t=>t.id);\n      let checkedRoles=this.$refs.tree.getCheckedKeys(true);\n      this.$set(this.form,\"roles\",roles.toString())\n      this.form.checkedRoles = checkedRoles.toString();\n      this.$refs.form.validate(async (validate)=>{\n        if(!validate) return;\n        try {\n          this.addLoading=true;\n          this.form.id && await upRoles(this.form);\n          !this.form.id &&await addRoles(this.form);\n          this.addLoading=false;\n          this.$message({\n            message: this.form.id ? \"修改成功\" : \"添加成功！\",\n            type: \"success\",\n          });\n          this.clearEvent();\n          this.getRoles();\n          this.dialogVisible = false;\n        }catch (e) {\n          this.addLoading=false;\n        }\n      })\n\n    },\n    clearEvent() {\n      this.$nextTick(()=>{\n        this.$refs.tree.setCheckedKeys([]);\n      });\n      this.form={};\n      this.roles = [];\n    },\n    openDialog() {\n      this.dialogVisible = true;\n      this.clearEvent();\n    },\n    async getRoles() {\n      this.loading=true;\n      const {data,total} = await getRoles(this.queryParams);\n      this.loading=false;\n      this.rolesArr = data;this.total=total;\n    },\n    handleQuery(){\n      this.queryParams.page=1;\n      this.getRoles();\n    },\n    async getRouterSystem() {\n      const {data} = await getRouterSystem();\n      const { routerMenu } = data;\n      this.routerMenu = routerMenu;\n\n    },\n    handleCheckChange(data, checked, indeterminate) {\n    },\n    handleClick(data, checked) {\n      this.roles = checked.checkedNodes;\n    },\n  },\n};\n</script>\n<style scoped lang=\"scss\">\n.boxs {\n  padding: 20px;\n}\n</style>\n"]}]}