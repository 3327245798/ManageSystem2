{"remainingRequest":"E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\src\\views\\test\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\src\\views\\test\\index.vue","mtime":1682257123000},{"path":"E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1683432540690},{"path":"E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\node_modules\\babel-loader\\lib\\index.js","mtime":1683432547123},{"path":"E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1683432540690},{"path":"E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\node_modules\\vue-loader\\lib\\index.js","mtime":1683432523461}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGFkZFRlc3RzLCBnZXRUZXN0cywgdXBUZXN0cywgZGVsVGVzdHMgfSBmcm9tICJAL2FwaS90ZXN0cyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiJUZXN0TW9yZSIsCiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICBxdWVyeVBhcmFtczp7CiAgICAgICAgcGFnZToxLAogICAgICAgIHNpemU6MTAKICAgICAgfSwKICAgICAgdG90YWw6MCwKICAgICAgbG9hZGluZzpmYWxzZSwKICAgICAgYWRkTG9hZGluZzpmYWxzZSwKICAgICAgbW9yZUFycjogW10sCiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBmb3JtOiB7CiAgICAgICAgbmFtZTogIiIsCiAgICAgICAgcmVtYXJrOiAiIgogICAgICB9LAogICAgICBzZWFyY2g6ICIiLAogICAgICBydWxlczogewogICAgICAgIG5hbWU6IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXmtYvor5XotKblj7flkI3np7AnLCB0cmlnZ2VyOiAnYmx1cicgfSwKICAgICAgICAgIHsgbWluOiAzLCBtYXg6IDE1LCBtZXNzYWdlOiAn6ZW/5bqm5ZyoIDMg5YiwIDE1IOS4quWtl+espicsIHRyaWdnZXI6ICdibHVyJyB9CiAgICAgICAgXQogICAgICB9LAogICAgfQogIH0sCiAgY3JlYXRlZCAoKSB7CiAgICB0aGlzLmdldE1vcmUoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIGdldE1vcmUgKCkgewogICAgICB0aGlzLmxvYWRpbmc9dHJ1ZTsKICAgICAgbGV0IHtkYXRhLHRvdGFsfSA9IGF3YWl0IGdldFRlc3RzKHRoaXMucXVlcnlQYXJhbXMpOwogICAgICB0aGlzLmxvYWRpbmc9ZmFsc2U7CiAgICAgIHRoaXMubW9yZUFyciA9IGRhdGE7dGhpcy50b3RhbD10b3RhbDsKICAgIH0sCiAgICBoYW5kbGVRdWVyeSgpewogICAgICB0aGlzLnF1ZXJ5UGFyYW1zLnBhZ2U9MTsKICAgICAgdGhpcy5nZXRNb3JlKCk7CiAgICB9LAogICAgYXN5bmMgYWZmaXJtICgpIHsKICAgICAgdGhpcy4kcmVmc1sncnVsZUZvcm0nXS52YWxpZGF0ZShhc3luYyAodmFsaWQpID0+IHsKICAgICAgICBpZiAoIXZhbGlkKSByZXR1cm47CiAgICAgICAgdHJ5IHsKICAgICAgICAgIHRoaXMuYWRkTG9hZGluZz10cnVlOwogICAgICAgICAgIXRoaXMuZm9ybS5pZCYmIGF3YWl0IGFkZFRlc3RzKHRoaXMuZm9ybSk7CiAgICAgICAgICB0aGlzLmZvcm0uaWQmJmF3YWl0IHVwVGVzdHMoeyAuLi50aGlzLmZvcm0gfSk7CiAgICAgICAgICB0aGlzLmFkZExvYWRpbmc9ZmFsc2U7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3ModGhpcy5mb3JtLmlkPyLkv67mlLnmiJDlip/vvIEiOiLmt7vliqDmiJDlip/vvIEiKQogICAgICAgICAgdGhpcy5nZXRNb3JlKCk7CiAgICAgICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSBmYWxzZTsKICAgICAgICB9Y2F0Y2ggKGUpIHsKICAgICAgICAgIHRoaXMuYWRkTG9hZGluZz1mYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIG9wZW5EaWFsb2cgKCkgewogICAgICB0aGlzLmZvcm0gPSB7fTsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgIH0sCiAgICBoYW5kbGVFZGl0IChpLCByb3cpIHsKICAgICAgdGhpcy5mb3JtPXsuLi5yb3d9OwogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgfSwKICAgIGhhbmRsZURlbGV0ZSAoaW5kZXgsIHJvdykgewogICAgICB0aGlzLiRjb25maXJtKCfmraTmk43kvZzlsIbmsLjkuYXliKDpmaTor6XmtYvor5XotKblj7csIOaYr+WQpue7p+e7rT8nLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgIH0pLnRoZW4oYXN5bmMgKCkgPT4gewogICAgICAgIGF3YWl0IGRlbFRlc3RzKHsgaWQ6IHJvdy5pZCB9KTsKICAgICAgICB0aGlzLmdldE1vcmUoKTsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6ICfliKDpmaTmiJDlip/vvIEnLAogICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgfSk7CiAgICAgIH0pCiAgICB9LAogIH0KfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/test","sourcesContent":["<template>\n  <div class=\"boxs\">\n    <el-form\n        :model=\"queryParams\"\n        ref=\"queryForm\"\n        :inline=\"true\"\n    >\n      <el-form-item label=\"测试账号名称\" prop=\"name\">\n        <el-input\n            v-model=\"queryParams.name\"\n            placeholder=\"请输入名称\"\n            clearable\n            size=\"small\"\n        />\n      </el-form-item>\n      <el-form-item>\n        <el-button\n            type=\"primary\"\n            icon=\"el-icon-search\"\n            size=\"small\"\n            @click=\"handleQuery\"\n        >搜索</el-button>\n      </el-form-item>\n    </el-form>\n    <el-button icon=\"el-icon-plus\" type=\"primary\" plain size=\"small\" @click=\"openDialog\">添加测试账号</el-button>\n\n    <el-table :data=\"moreArr\" style=\"margin-top: 15px\" v-loading=\"loading\">\n      <el-table-column label=\"编号\" align=\"center\" width=\"100\" prop=\"id\" />\n      <el-table-column label=\"测试账号名称\" align=\"center\" prop=\"name\">\n        <template slot-scope=\"scope\">\n          {{scope.row.name}}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"备注\" align=\"center\" prop=\"remark\" />\n      <el-table-column label=\"操作\" align=\"center\" >\n        <template slot-scope=\"scope\">\n          <el-button size=\"mini\" @click=\"handleEdit(scope.$index, scope.row)\">编辑</el-button>\n          <el-button size=\"mini\" type=\"danger\" @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <pagination\n        v-show=\"total > 0\"\n        :total=\"total\"\n        :page.sync=\"queryParams.page\"\n        :limit.sync=\"queryParams.size\"\n        @pagination=\"getMore\"\n    />\n\n    <el-dialog title=\"操作框\" :visible.sync=\"dialogVisible\" width=\"40%\">\n      <el-form class=\"demo-form-inline\" label-width=\"100px\" :model=\"form\" :rules=\"rules\" ref=\"ruleForm\">\n        <el-form-item label=\"账号名称\" prop=\"name\">\n          <el-input v-model=\"form.name\" placeholder=\"请输入测试账号名称\" />\n        </el-form-item>\n        <el-form-item label=\"备注说明\">\n          <el-input v-model=\"form.remark\" placeholder=\"请输入备注\" />\n        </el-form-item>\n      </el-form>\n\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\n        <el-button :type=\"form.id ? 'warning' : 'primary'\" @click=\"affirm\">{{\n          form.id ? \"确认修改\" : \"确认添加\"\n        }}</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n<script>\nimport { addTests, getTests, upTests, delTests } from \"@/api/tests\";\nexport default {\n  name:\"TestMore\",\n  data () {\n    return {\n      queryParams:{\n        page:1,\n        size:10\n      },\n      total:0,\n      loading:false,\n      addLoading:false,\n      moreArr: [],\n      dialogVisible: false,\n      form: {\n        name: \"\",\n        remark: \"\"\n      },\n      search: \"\",\n      rules: {\n        name: [\n          { required: true, message: '请输入测试账号名称', trigger: 'blur' },\n          { min: 3, max: 15, message: '长度在 3 到 15 个字符', trigger: 'blur' }\n        ]\n      },\n    }\n  },\n  created () {\n    this.getMore();\n  },\n  methods: {\n    async getMore () {\n      this.loading=true;\n      let {data,total} = await getTests(this.queryParams);\n      this.loading=false;\n      this.moreArr = data;this.total=total;\n    },\n    handleQuery(){\n      this.queryParams.page=1;\n      this.getMore();\n    },\n    async affirm () {\n      this.$refs['ruleForm'].validate(async (valid) => {\n        if (!valid) return;\n        try {\n          this.addLoading=true;\n          !this.form.id&& await addTests(this.form);\n          this.form.id&&await upTests({ ...this.form });\n          this.addLoading=false;\n          this.$message.success(this.form.id?\"修改成功！\":\"添加成功！\")\n          this.getMore();\n          this.dialogVisible = false;\n        }catch (e) {\n          this.addLoading=false;\n        }\n      });\n    },\n    openDialog () {\n      this.form = {};\n      this.dialogVisible = true;\n    },\n    handleEdit (i, row) {\n      this.form={...row};\n      this.dialogVisible = true;\n    },\n    handleDelete (index, row) {\n      this.$confirm('此操作将永久删除该测试账号, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'error'\n      }).then(async () => {\n        await delTests({ id: row.id });\n        this.getMore();\n        this.$message({\n          message: '删除成功！',\n          type: 'success'\n        });\n      })\n    },\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n.boxs {\n  padding: 20px;\n}\n</style>\n"]}]}