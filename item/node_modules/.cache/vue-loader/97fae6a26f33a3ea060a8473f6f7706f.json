{"remainingRequest":"E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\src\\views\\admin\\dictItem.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\src\\views\\admin\\dictItem.vue","mtime":1682257123000},{"path":"E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1683432540690},{"path":"E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\node_modules\\babel-loader\\lib\\index.js","mtime":1683432547123},{"path":"E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1683432540690},{"path":"E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\node_modules\\vue-loader\\lib\\index.js","mtime":1683432523461}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7YWRkRGljdEl0ZW0sIGdldERpY3RJdGVtLCB1cERpY3RJdGVtLCBkZWxEaWN0SXRlbSwgZ2V0RGljdEFsbCwgZ2V0RGljdFR5cGV9IGZyb20gIkAvYXBpL2FkbWluIjsKaW1wb3J0IHtmb3JtYXREYXRlfSBmcm9tICJAL3V0aWxzIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiRGljdEl0ZW0iLAogIGRhdGEoKXsKICAgIHJldHVybiB7CiAgICAgIHF1ZXJ5UGFyYW1zOnt9LAogICAgICB0b3RhbDowLAogICAgICBsb2FkaW5nOmZhbHNlLAogICAgICBhZGRMb2FkaW5nOmZhbHNlLAogICAgICBsaXN0OltdLAogICAgICBvcGVuOmZhbHNlLAogICAgICBmb3JtOnt9LAogICAgICBkaWN0VHlwZToiIiwKICAgICAgZGljdExpc3Q6W10sCiAgICAgIHN0YXR1c09wdGlvbnM6WwogICAgICAgICAge2RpY3RMYWJlbDoi5pi+56S6IixkaWN0VmFsdWU6MX0sCiAgICAgICAgICB7ZGljdExhYmVsOiLpmpDol48iLGRpY3RWYWx1ZTowfSwKICAgICAgXSwKICAgICAgLy8g5pWw5o2u5qCH562+5Zue5pi+5qC35byPCiAgICAgIGxpc3RDbGFzc09wdGlvbnM6IFsKICAgICAgICB7CiAgICAgICAgICB2YWx1ZTogImRlZmF1bHQiLAogICAgICAgICAgbGFiZWw6ICLpu5jorqQiCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB2YWx1ZTogInByaW1hcnkiLAogICAgICAgICAgbGFiZWw6ICLkuLvopoEiCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB2YWx1ZTogInN1Y2Nlc3MiLAogICAgICAgICAgbGFiZWw6ICLmiJDlip8iCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB2YWx1ZTogImluZm8iLAogICAgICAgICAgbGFiZWw6ICLkv6Hmga8iCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB2YWx1ZTogIndhcm5pbmciLAogICAgICAgICAgbGFiZWw6ICLorablkYoiCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB2YWx1ZTogImRhbmdlciIsCiAgICAgICAgICBsYWJlbDogIuWNsemZqSIKICAgICAgICB9CiAgICAgIF0sCiAgICAgIHJ1bGVzOnsKICAgICAgICBkaWN0TGFiZWw6IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLmlbDmja7moIfnrb7kuI3og73kuLrnqboiLCB0cmlnZ2VyOiAiYmx1ciIgfQogICAgICAgIF0sCiAgICAgICAgZGljdFZhbHVlOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi5pWw5o2u6ZSu5YC85LiN6IO95Li656m6IiwgdHJpZ2dlcjogImJsdXIiIH0KICAgICAgICBdLAogICAgICAgIGRpY3RTb3J0OiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi5pWw5o2u6aG65bqP5LiN6IO95Li656m6IiwgdHJpZ2dlcjogImJsdXIiIH0KICAgICAgICBdCiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICBsZXQge2lkfT10aGlzLiRyb3V0ZS5xdWVyeTsKICAgIGlmKGlkKSB0aGlzLnF1ZXJ5UGFyYW1zLmRpY3RJZD1OdW1iZXIoaWQpOwogICAgdGhpcy5nZXREaWN0SXRlbSgpOwogICAgdGhpcy5nZXREaWN0QWxsKCk7CiAgfSwKICBtZXRob2RzOnsKICAgIGZvcm1hdERhdGUsCiAgICBhZmZpcm0oKXsKICAgICAgdGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKGFzeW5jICh2YWxpZGF0ZSk9PnsKICAgICAgICBpZighdmFsaWRhdGUpIHJldHVybjsKICAgICAgICB0cnkgewogICAgICAgICAgdGhpcy5hZGRMb2FkaW5nPXRydWU7CiAgICAgICAgICAhdGhpcy5mb3JtLmlkJiZhd2FpdCBhZGREaWN0SXRlbSh0aGlzLmZvcm0pOwogICAgICAgICAgdGhpcy5mb3JtLmlkJiZhd2FpdCB1cERpY3RJdGVtKHRoaXMuZm9ybSk7CiAgICAgICAgICB0aGlzLmFkZExvYWRpbmc9ZmFsc2U7CiAgICAgICAgICB0aGlzLmdldERpY3RJdGVtKCk7CiAgICAgICAgICB0aGlzLm9wZW49ZmFsc2U7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3ModGhpcy5mb3JtLmlkPyLkv67mlLnmiJDlip/vvIEiOiLmlrDlop7miJDlip/vvIEiKTsKICAgICAgICB9Y2F0Y2ggKGUpIHsKICAgICAgICAgIHRoaXMuYWRkTG9hZGluZz1mYWxzZTsKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgYWRkKCl7CiAgICAgIHRoaXMuZm9ybT17CiAgICAgICAgZGljdElkOnRoaXMucXVlcnlQYXJhbXMuZGljdElkLAogICAgICAgIHR5cGU6dGhpcy5kaWN0VHlwZSwKICAgICAgICBkaWN0TGFiZWw6dW5kZWZpbmVkLAogICAgICAgIGRpY3RWYWx1ZTp1bmRlZmluZWQsCiAgICAgICAgZGljdFNvcnQ6MCwKICAgICAgICBkaWN0Q2xhc3M6dW5kZWZpbmVkLAogICAgICAgIHN0YXR1czoxLAogICAgICAgIHJlbWFyazp1bmRlZmluZWQKICAgICAgfTsKICAgICAgdGhpcy5vcGVuPXRydWU7CiAgICB9LAogICAgYXN5bmMgZ2V0RGljdEl0ZW0oKXsKICAgICAgdGhpcy5sb2FkaW5nPXRydWU7CiAgICAgIGxldCB7ZGF0YX09YXdhaXQgZ2V0RGljdEl0ZW0odGhpcy5xdWVyeVBhcmFtcyk7CiAgICAgIHRoaXMubG9hZGluZz1mYWxzZTsKICAgICAgdGhpcy5saXN0PWRhdGE7CiAgICB9LAogICAgYXN5bmMgZ2V0RGljdEFsbCgpewogICAgICBsZXQge2RhdGF9PWF3YWl0IGdldERpY3RBbGwoKTsKICAgICAgdGhpcy5kaWN0TGlzdD1kYXRhOwogICAgICBsZXQgYXJyPWRhdGEuZmlsdGVyKHQ9PnQuaWQ9PXRoaXMucXVlcnlQYXJhbXMuZGljdElkKTsKICAgICAgdGhpcy5kaWN0VHlwZT1hcnJbMF0udHlwZTsKICAgIH0sCiAgICBoYW5kbGVRdWVyeSgpewogICAgICB0aGlzLmdldERpY3RBbGwoKTsKICAgICAgdGhpcy5nZXREaWN0SXRlbSgpOwogICAgfSwKICAgIGhhbmRsZUVkaXQocm93KXsKICAgICAgdGhpcy5mb3JtPXsuLi5yb3d9OwogICAgICB0aGlzLm9wZW49dHJ1ZTsKICAgIH0sCiAgICBoYW5kbGVEZWxldGUocm93KXsKICAgICAgdGhpcy4kY29uZmlybShg5piv5ZCm5Yig6Zmk44CKJHtyb3cuZGljdExhYmVsfeOAi+Wtl+WFuOmhueebru+8n2AsICfmj5DnpLonLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS50aGVuKGFzeW5jICgpID0+IHsKICAgICAgICBhd2FpdCBkZWxEaWN0SXRlbShyb3cpOwogICAgICAgIHRoaXMuZ2V0RGljdEl0ZW0oKTsKICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIuWIoOmZpOaIkOWKn++8gSIpOwogICAgICB9KQogICAgfQogIH0KfQo="},{"version":3,"sources":["dictItem.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"dictItem.vue","sourceRoot":"src/views/admin","sourcesContent":["<template>\n  <div class=\"boxs\">\n    <el-form\n        :model=\"queryParams\"\n        ref=\"queryForm\"\n        :inline=\"true\"\n    >\n      <el-form-item label=\"字典归属\" prop=\"listClass\">\n        <el-select v-model=\"queryParams.dictId\" @change=\"$forceUpdate()\">\n          <el-option\n              v-for=\"item in dictList\"\n              :key=\"item.id\"\n              :label=\"item.name\"\n              :value=\"item.id\"\n          ></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item>\n        <el-button\n            type=\"primary\"\n            icon=\"el-icon-search\"\n            size=\"small\"\n            @click=\"handleQuery\"\n        >搜索</el-button>\n      </el-form-item>\n    </el-form>\n    <el-button icon=\"el-icon-plus\" type=\"primary\" plain size=\"small\" @click=\"add\">新增</el-button>\n    <el-table :data=\"list\" style=\"margin-top: 15px\" v-loading=\"loading\">\n      <el-table-column label=\"字典编码\" align=\"center\" prop=\"id\" />\n      <el-table-column label=\"字典标签\" align=\"center\" prop=\"dictLabel\">\n        <template slot-scope=\"scope\">\n          <span v-if=\"scope.row.dictClass == '' || scope.row.dictClass == 'default'\">{{scope.row.dictLabel}}</span>\n          <el-tag v-else :type=\"scope.row.dictClass == 'primary' ? '' : scope.row.dictClass\">{{scope.row.dictLabel}}</el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"字典键值\" align=\"center\" prop=\"dictValue\" />\n      <el-table-column label=\"字典排序\" align=\"center\" prop=\"dictSort\" />\n      <el-table-column label=\"状态\" align=\"center\" prop=\"status\">\n        <template slot-scope=\"scope\">\n          <el-tag v-if=\"scope.row.status==1\">显示</el-tag>\n          <el-tag v-else type=\"danger\">隐藏</el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"备注\" align=\"center\" prop=\"remark\" :show-overflow-tooltip=\"true\" />\n      <el-table-column label=\"创建时间\" align=\"center\" prop=\"createTime\" width=\"180\">\n        <template slot-scope=\"scope\">\n          <span>{{ formatDate(scope.row.dictItemCreateTime) }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\" align=\"center\" >\n        <template slot-scope=\"scope\">\n          <el-button size=\"mini\" @click=\"handleEdit(scope.row)\">编辑</el-button>\n          <el-button size=\"mini\" type=\"danger\" @click=\"handleDelete( scope.row)\">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <el-dialog title=\"操作框\" :visible.sync=\"open\" width=\"40%\">\n      <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"80px\">\n        <el-form-item label=\"字典类型\">\n          <el-input v-model=\"form.type\" :disabled=\"true\" />\n        </el-form-item>\n        <el-form-item label=\"数据标签\" prop=\"dictLabel\">\n          <el-input v-model=\"form.dictLabel\" placeholder=\"请输入数据标签\" />\n        </el-form-item>\n        <el-form-item label=\"数据键值\" prop=\"dictValue\">\n          <el-input v-model=\"form.dictValue\" placeholder=\"请输入数据键值\" />\n        </el-form-item>\n        <el-form-item label=\"显示排序\" prop=\"dictSort\">\n          <el-input-number v-model=\"form.dictSort\" controls-position=\"right\" :min=\"0\" />\n        </el-form-item>\n        <el-form-item label=\"回显样式\" prop=\"listClass\">\n          <el-select v-model=\"form.dictClass\">\n            <el-option\n                v-for=\"item in listClassOptions\"\n                :key=\"item.value\"\n                :label=\"item.label\"\n                :value=\"item.value\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"状态\" prop=\"status\">\n          <el-radio-group v-model=\"form.status\">\n            <el-radio\n                v-for=\"dict in statusOptions\"\n                :key=\"dict.dictValue\"\n                :label=\"dict.dictValue\"\n            >{{dict.dictLabel}}</el-radio>\n          </el-radio-group>\n        </el-form-item>\n        <el-form-item label=\"备注\" prop=\"remark\">\n          <el-input v-model=\"form.remark\" type=\"textarea\" placeholder=\"请输入内容\"></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\" v-loading=\"addLoading\">\n        <el-button @click=\"open = false\">取 消</el-button>\n        <el-button :type=\"form.id ? 'warning' : 'primary'\" @click=\"affirm\">{{\n            form.id ? \"确认修改\" : \"确认添加\"\n          }}</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport {addDictItem, getDictItem, upDictItem, delDictItem, getDictAll, getDictType} from \"@/api/admin\";\nimport {formatDate} from \"@/utils\";\n\nexport default {\n  name: \"DictItem\",\n  data(){\n    return {\n      queryParams:{},\n      total:0,\n      loading:false,\n      addLoading:false,\n      list:[],\n      open:false,\n      form:{},\n      dictType:\"\",\n      dictList:[],\n      statusOptions:[\n          {dictLabel:\"显示\",dictValue:1},\n          {dictLabel:\"隐藏\",dictValue:0},\n      ],\n      // 数据标签回显样式\n      listClassOptions: [\n        {\n          value: \"default\",\n          label: \"默认\"\n        },\n        {\n          value: \"primary\",\n          label: \"主要\"\n        },\n        {\n          value: \"success\",\n          label: \"成功\"\n        },\n        {\n          value: \"info\",\n          label: \"信息\"\n        },\n        {\n          value: \"warning\",\n          label: \"警告\"\n        },\n        {\n          value: \"danger\",\n          label: \"危险\"\n        }\n      ],\n      rules:{\n        dictLabel: [\n          { required: true, message: \"数据标签不能为空\", trigger: \"blur\" }\n        ],\n        dictValue: [\n          { required: true, message: \"数据键值不能为空\", trigger: \"blur\" }\n        ],\n        dictSort: [\n          { required: true, message: \"数据顺序不能为空\", trigger: \"blur\" }\n        ]\n      }\n    }\n  },\n  created() {\n    let {id}=this.$route.query;\n    if(id) this.queryParams.dictId=Number(id);\n    this.getDictItem();\n    this.getDictAll();\n  },\n  methods:{\n    formatDate,\n    affirm(){\n      this.$refs.form.validate(async (validate)=>{\n        if(!validate) return;\n        try {\n          this.addLoading=true;\n          !this.form.id&&await addDictItem(this.form);\n          this.form.id&&await upDictItem(this.form);\n          this.addLoading=false;\n          this.getDictItem();\n          this.open=false;\n          this.$message.success(this.form.id?\"修改成功！\":\"新增成功！\");\n        }catch (e) {\n          this.addLoading=false;\n        }\n      })\n    },\n    add(){\n      this.form={\n        dictId:this.queryParams.dictId,\n        type:this.dictType,\n        dictLabel:undefined,\n        dictValue:undefined,\n        dictSort:0,\n        dictClass:undefined,\n        status:1,\n        remark:undefined\n      };\n      this.open=true;\n    },\n    async getDictItem(){\n      this.loading=true;\n      let {data}=await getDictItem(this.queryParams);\n      this.loading=false;\n      this.list=data;\n    },\n    async getDictAll(){\n      let {data}=await getDictAll();\n      this.dictList=data;\n      let arr=data.filter(t=>t.id==this.queryParams.dictId);\n      this.dictType=arr[0].type;\n    },\n    handleQuery(){\n      this.getDictAll();\n      this.getDictItem();\n    },\n    handleEdit(row){\n      this.form={...row};\n      this.open=true;\n    },\n    handleDelete(row){\n      this.$confirm(`是否删除《${row.dictLabel}》字典项目？`, '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(async () => {\n        await delDictItem(row);\n        this.getDictItem();\n        this.$message.success(\"删除成功！\");\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n"]}]}