{"remainingRequest":"E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\src\\views\\admin\\dict.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\src\\views\\admin\\dict.vue","mtime":1682257123000},{"path":"E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1683432540690},{"path":"E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\node_modules\\babel-loader\\lib\\index.js","mtime":1683432547123},{"path":"E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1683432540690},{"path":"E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\node_modules\\vue-loader\\lib\\index.js","mtime":1683432523461}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7YWRkRGljdCxnZXREaWN0LHVwRGljdCxkZWxEaWN0fSBmcm9tICJAL2FwaS9hZG1pbiI7CmltcG9ydCB7Zm9ybWF0RGF0ZX0gZnJvbSAiQC91dGlscyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkRpY3QiLAogIGRhdGEoKXsKICAgIHJldHVybiB7CiAgICAgIHF1ZXJ5UGFyYW1zOnsKICAgICAgICBwYWdlOjEsCiAgICAgICAgc2l6ZToxMAogICAgICB9LAogICAgICB0b3RhbDowLAogICAgICBsb2FkaW5nOmZhbHNlLAogICAgICBhZGRMb2FkaW5nOmZhbHNlLAogICAgICBsaXN0OltdLAogICAgICBvcGVuOmZhbHNlLAogICAgICBmb3JtOnt9LAogICAgICBydWxlczp7CiAgICAgICAgbmFtZTpbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl5a2X5YW45ZCN56ewJywgdHJpZ2dlcjogJ2JsdXInIH0sCiAgICAgICAgXSwKICAgICAgICB0eXBlOlsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXlrZflhbjnsbvlnosnLCB0cmlnZ2VyOiAnYmx1cicgfQogICAgICAgIF0KICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0RGljdCgpOwogIH0sCiAgbWV0aG9kczp7CiAgICBhZmZpcm0oKXsKICAgICAgdGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKGFzeW5jICh2YWxpZGF0ZSk9PnsKICAgICAgICBpZighdmFsaWRhdGUpIHJldHVybjsKICAgICAgICB0cnkgewogICAgICAgICAgdGhpcy5hZGRMb2FkaW5nPXRydWUKICAgICAgICAgICF0aGlzLmZvcm0uaWQmJmF3YWl0IGFkZERpY3QodGhpcy5mb3JtKTsKICAgICAgICAgIHRoaXMuZm9ybS5pZCYmYXdhaXQgdXBEaWN0KHRoaXMuZm9ybSk7CiAgICAgICAgICB0aGlzLmFkZExvYWRpbmc9ZmFsc2U7CiAgICAgICAgICB0aGlzLmdldERpY3QoKTsKICAgICAgICAgIHRoaXMub3Blbj1mYWxzZTsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcyh0aGlzLmZvcm0uaWQ/IuS/ruaUueaIkOWKn++8gSI6IuaWsOWinuaIkOWKn++8gSIpOwogICAgICAgIH1jYXRjaCAoZSkgewogICAgICAgICAgdGhpcy5hZGRMb2FkaW5nPWZhbHNlOwogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICBhZGQoKXsKICAgICAgdGhpcy5mb3JtPXt9OwogICAgICB0aGlzLm9wZW49dHJ1ZTsKICAgIH0sCiAgICBhc3luYyBnZXREaWN0KCl7CiAgICAgIHRoaXMubG9hZGluZz10cnVlOwogICAgICBsZXQge2RhdGEsdG90YWx9PWF3YWl0IGdldERpY3QodGhpcy5xdWVyeVBhcmFtcyk7CiAgICAgIHRoaXMubG9hZGluZz1mYWxzZTsKICAgICAgdGhpcy5saXN0PWRhdGE7dGhpcy50b3RhbD10b3RhbDsKICAgIH0sCiAgICBoYW5kbGVRdWVyeSgpewogICAgICB0aGlzLnF1ZXJ5UGFyYW1zLnBhZ2U9MTsKICAgICAgdGhpcy5nZXREaWN0KCk7CiAgICB9LAogICAgaGFuZGxlRWRpdChyb3cpewogICAgICB0aGlzLmZvcm09ey4uLnJvd307CiAgICAgIHRoaXMub3Blbj10cnVlOwogICAgfSwKICAgIGhhbmRsZURlbGV0ZShyb3cpewogICAgICB0aGlzLiRjb25maXJtKGDmmK/lkKbliKDpmaTjgIoke3Jvdy5uYW1lfeOAi+Wtl+WFuO+8n2AsICfmj5DnpLonLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS50aGVuKGFzeW5jICgpID0+IHsKICAgICAgICBhd2FpdCBkZWxEaWN0KHJvdyk7CiAgICAgICAgdGhpcy5nZXREaWN0KCk7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLliKDpmaTmiJDlip/vvIEiKTsKICAgICAgfSkKICAgIH0sCiAgICBnb0RpY3RMaXN0KHJvdyl7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtwYXRoOiIvbWVudXMvZGljdC9kaWN0SXRlbSIscXVlcnk6e2lkOnJvdy5pZH19KQogICAgfSwKICAgIGZvcm1hdHRlckNyZWF0ZVRpbWUocm93KXsKICAgICAgcmV0dXJuIGZvcm1hdERhdGUocm93LmNyZWF0ZVRpbWUpOwogICAgfQogIH0KfQo="},{"version":3,"sources":["dict.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2EA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"dict.vue","sourceRoot":"src/views/admin","sourcesContent":["<template>\n  <div class=\"boxs\">\n    <el-form\n        :model=\"queryParams\"\n        ref=\"queryForm\"\n        :inline=\"true\"\n    >\n      <el-form-item label=\"字典名称\" prop=\"name\">\n        <el-input\n            v-model=\"queryParams.name\"\n            placeholder=\"请输入名称\"\n            clearable\n            size=\"small\"\n        />\n      </el-form-item>\n      <el-form-item>\n        <el-button\n            type=\"primary\"\n            icon=\"el-icon-search\"\n            size=\"small\"\n            @click=\"handleQuery\"\n        >搜索</el-button>\n      </el-form-item>\n    </el-form>\n    <el-button icon=\"el-icon-plus\" type=\"primary\" plain size=\"small\" @click=\"add\">新增</el-button>\n    <el-table :data=\"list\" style=\"margin-top: 15px\" v-loading=\"loading\">\n      <el-table-column label=\"编号\" align=\"center\" width=\"100\" prop=\"id\" />\n      <el-table-column label=\"测试账号名称\" align=\"center\" prop=\"name\"></el-table-column>\n      <el-table-column label=\"字典类型\" align=\"center\" prop=\"type\">\n        <template slot-scope=\"scope\">\n          <el-link type=\"primary\" @click=\"goDictList(scope.row)\"> {{scope.row.type}} <i class=\"el-icon-view el-icon--right\"></i></el-link>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"备注\" align=\"center\" prop=\"remark\" />\n      <el-table-column label=\"创建时间\" align=\"center\" prop=\"createTime\" :formatter=\"formatterCreateTime\" />\n      <el-table-column label=\"操作\" align=\"center\" >\n        <template slot-scope=\"scope\">\n          <el-button size=\"mini\" @click=\"handleEdit(scope.row)\">编辑</el-button>\n          <el-button size=\"mini\" type=\"danger\" @click=\"handleDelete( scope.row)\">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <pagination\n        v-show=\"total > 0\"\n        :total=\"total\"\n        :page.sync=\"queryParams.page\"\n        :limit.sync=\"queryParams.size\"\n        @pagination=\"getDict\"\n    />\n\n    <el-dialog title=\"操作框\" :visible.sync=\"open\" width=\"40%\">\n      <el-form class=\"demo-form-inline\" label-width=\"100px\" :model=\"form\" :rules=\"rules\" ref=\"form\">\n        <el-form-item label=\"字典名称\" prop=\"name\">\n          <el-input v-model=\"form.name\" placeholder=\"请输入字典名称\" />\n        </el-form-item>\n        <el-form-item label=\"字典类型\" prop=\"type\">\n          <el-input v-model=\"form.type\" placeholder=\"请输入字典类型\" />\n        </el-form-item>\n        <el-form-item label=\"备注说明\">\n          <el-input type=\"textarea\" v-model=\"form.remark\" placeholder=\"请输入备注\" />\n        </el-form-item>\n      </el-form>\n\n      <div slot=\"footer\" class=\"dialog-footer\" v-loading=\"addLoading\">\n        <el-button @click=\"open = false\">取 消</el-button>\n        <el-button :type=\"form.id ? 'warning' : 'primary'\" @click=\"affirm\">{{\n            form.id ? \"确认修改\" : \"确认添加\"\n          }}</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport {addDict,getDict,upDict,delDict} from \"@/api/admin\";\nimport {formatDate} from \"@/utils\";\n\nexport default {\n  name: \"Dict\",\n  data(){\n    return {\n      queryParams:{\n        page:1,\n        size:10\n      },\n      total:0,\n      loading:false,\n      addLoading:false,\n      list:[],\n      open:false,\n      form:{},\n      rules:{\n        name:[\n          { required: true, message: '请输入字典名称', trigger: 'blur' },\n        ],\n        type:[\n          { required: true, message: '请输入字典类型', trigger: 'blur' }\n        ]\n      }\n    }\n  },\n  created() {\n    this.getDict();\n  },\n  methods:{\n    affirm(){\n      this.$refs.form.validate(async (validate)=>{\n        if(!validate) return;\n        try {\n          this.addLoading=true\n          !this.form.id&&await addDict(this.form);\n          this.form.id&&await upDict(this.form);\n          this.addLoading=false;\n          this.getDict();\n          this.open=false;\n          this.$message.success(this.form.id?\"修改成功！\":\"新增成功！\");\n        }catch (e) {\n          this.addLoading=false;\n        }\n      })\n    },\n    add(){\n      this.form={};\n      this.open=true;\n    },\n    async getDict(){\n      this.loading=true;\n      let {data,total}=await getDict(this.queryParams);\n      this.loading=false;\n      this.list=data;this.total=total;\n    },\n    handleQuery(){\n      this.queryParams.page=1;\n      this.getDict();\n    },\n    handleEdit(row){\n      this.form={...row};\n      this.open=true;\n    },\n    handleDelete(row){\n      this.$confirm(`是否删除《${row.name}》字典？`, '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(async () => {\n        await delDict(row);\n        this.getDict();\n        this.$message.success(\"删除成功！\");\n      })\n    },\n    goDictList(row){\n      this.$router.push({path:\"/menus/dict/dictItem\",query:{id:row.id}})\n    },\n    formatterCreateTime(row){\n      return formatDate(row.createTime);\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n"]}]}