{"remainingRequest":"E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\src\\views\\test\\index.vue?vue&type=style&index=0&id=f3a85fa2&lang=scss&scoped=true&","dependencies":[{"path":"E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\src\\views\\test\\index.vue","mtime":1682257123000},{"path":"E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\node_modules\\css-loader\\dist\\cjs.js","mtime":1683432540072},{"path":"E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1683432529030},{"path":"E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\node_modules\\postcss-loader\\src\\index.js","mtime":1683432529916},{"path":"E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1683432523256},{"path":"E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1683432540690},{"path":"E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\node_modules\\vue-loader\\lib\\index.js","mtime":1683432523461}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmJveHMgewogIHBhZGRpbmc6IDIwcHg7Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyJA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/test","sourcesContent":["<template>\n  <div class=\"boxs\">\n    <el-form\n        :model=\"queryParams\"\n        ref=\"queryForm\"\n        :inline=\"true\"\n    >\n      <el-form-item label=\"测试账号名称\" prop=\"name\">\n        <el-input\n            v-model=\"queryParams.name\"\n            placeholder=\"请输入名称\"\n            clearable\n            size=\"small\"\n        />\n      </el-form-item>\n      <el-form-item>\n        <el-button\n            type=\"primary\"\n            icon=\"el-icon-search\"\n            size=\"small\"\n            @click=\"handleQuery\"\n        >搜索</el-button>\n      </el-form-item>\n    </el-form>\n    <el-button icon=\"el-icon-plus\" type=\"primary\" plain size=\"small\" @click=\"openDialog\">添加测试账号</el-button>\n\n    <el-table :data=\"moreArr\" style=\"margin-top: 15px\" v-loading=\"loading\">\n      <el-table-column label=\"编号\" align=\"center\" width=\"100\" prop=\"id\" />\n      <el-table-column label=\"测试账号名称\" align=\"center\" prop=\"name\">\n        <template slot-scope=\"scope\">\n          {{scope.row.name}}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"备注\" align=\"center\" prop=\"remark\" />\n      <el-table-column label=\"操作\" align=\"center\" >\n        <template slot-scope=\"scope\">\n          <el-button size=\"mini\" @click=\"handleEdit(scope.$index, scope.row)\">编辑</el-button>\n          <el-button size=\"mini\" type=\"danger\" @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <pagination\n        v-show=\"total > 0\"\n        :total=\"total\"\n        :page.sync=\"queryParams.page\"\n        :limit.sync=\"queryParams.size\"\n        @pagination=\"getMore\"\n    />\n\n    <el-dialog title=\"操作框\" :visible.sync=\"dialogVisible\" width=\"40%\">\n      <el-form class=\"demo-form-inline\" label-width=\"100px\" :model=\"form\" :rules=\"rules\" ref=\"ruleForm\">\n        <el-form-item label=\"账号名称\" prop=\"name\">\n          <el-input v-model=\"form.name\" placeholder=\"请输入测试账号名称\" />\n        </el-form-item>\n        <el-form-item label=\"备注说明\">\n          <el-input v-model=\"form.remark\" placeholder=\"请输入备注\" />\n        </el-form-item>\n      </el-form>\n\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\n        <el-button :type=\"form.id ? 'warning' : 'primary'\" @click=\"affirm\">{{\n          form.id ? \"确认修改\" : \"确认添加\"\n        }}</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n<script>\nimport { addTests, getTests, upTests, delTests } from \"@/api/tests\";\nexport default {\n  name:\"TestMore\",\n  data () {\n    return {\n      queryParams:{\n        page:1,\n        size:10\n      },\n      total:0,\n      loading:false,\n      addLoading:false,\n      moreArr: [],\n      dialogVisible: false,\n      form: {\n        name: \"\",\n        remark: \"\"\n      },\n      search: \"\",\n      rules: {\n        name: [\n          { required: true, message: '请输入测试账号名称', trigger: 'blur' },\n          { min: 3, max: 15, message: '长度在 3 到 15 个字符', trigger: 'blur' }\n        ]\n      },\n    }\n  },\n  created () {\n    this.getMore();\n  },\n  methods: {\n    async getMore () {\n      this.loading=true;\n      let {data,total} = await getTests(this.queryParams);\n      this.loading=false;\n      this.moreArr = data;this.total=total;\n    },\n    handleQuery(){\n      this.queryParams.page=1;\n      this.getMore();\n    },\n    async affirm () {\n      this.$refs['ruleForm'].validate(async (valid) => {\n        if (!valid) return;\n        try {\n          this.addLoading=true;\n          !this.form.id&& await addTests(this.form);\n          this.form.id&&await upTests({ ...this.form });\n          this.addLoading=false;\n          this.$message.success(this.form.id?\"修改成功！\":\"添加成功！\")\n          this.getMore();\n          this.dialogVisible = false;\n        }catch (e) {\n          this.addLoading=false;\n        }\n      });\n    },\n    openDialog () {\n      this.form = {};\n      this.dialogVisible = true;\n    },\n    handleEdit (i, row) {\n      this.form={...row};\n      this.dialogVisible = true;\n    },\n    handleDelete (index, row) {\n      this.$confirm('此操作将永久删除该测试账号, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'error'\n      }).then(async () => {\n        await delTests({ id: row.id });\n        this.getMore();\n        this.$message({\n          message: '删除成功！',\n          type: 'success'\n        });\n      })\n    },\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n.boxs {\n  padding: 20px;\n}\n</style>\n"]}]}