{"remainingRequest":"E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\src\\views\\admin\\more.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\src\\views\\admin\\more.vue","mtime":1682257123000},{"path":"E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1683432540690},{"path":"E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\node_modules\\babel-loader\\lib\\index.js","mtime":1683432547123},{"path":"E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1683432540690},{"path":"E:\\研一下\\Vue学习\\前端\\vue_node_admin-master\\item\\node_modules\\vue-loader\\lib\\index.js","mtime":1683432523461}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGFkZE1vcmUsIGdldE1vcmUsIHVwTW9yZSwgZGVsTW9yZSB9IGZyb20gIkAvYXBpL2FkbWluIjsKaW1wb3J0IHtmb3JtYXREYXRlfSBmcm9tICJAL3V0aWxzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6Ik1vcmUiLAogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgcXVlcnlQYXJhbXM6ewogICAgICAgIHBhZ2U6MSwKICAgICAgICBzaXplOjEwCiAgICAgIH0sCiAgICAgIHRvdGFsOjAsCiAgICAgIGxvYWRpbmc6ZmFsc2UsCiAgICAgIGFkZExvYWRpbmc6ZmFsc2UsCiAgICAgIG1vcmVBcnI6IFtdLAogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgZm9ybTogewogICAgICAgIG5hbWU6ICIiLAogICAgICAgIHJlbWFyazogIiIKICAgICAgfSwKICAgICAgc2VhcmNoOiAiIiwKICAgICAgcnVsZXM6IHsKICAgICAgICBuYW1lOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl6LSm5Y+35ZCN56ewJywgdHJpZ2dlcjogJ2JsdXInIH0sCiAgICAgICAgICB7IG1pbjogMywgbWF4OiAxNSwgbWVzc2FnZTogJ+mVv+W6puWcqCAzIOWIsCAxNSDkuKrlrZfnrKYnLCB0cmlnZ2VyOiAnYmx1cicgfQogICAgICAgIF0KICAgICAgfSwKICAgICAgaXNDaGFuZ2VQd2Q6IGZhbHNlCiAgICB9CiAgfSwKICBjcmVhdGVkICgpIHsKICAgIHRoaXMuZ2V0TW9yZSgpOwogIH0sCiAgbWV0aG9kczogewogICAgZm9ybWF0dGVyQ3JlYXRlVGltZShyb3cpewogICAgICByZXR1cm4gZm9ybWF0RGF0ZShyb3cuY3JlYXRlVGltZSk7CiAgICB9LAogICAgYXN5bmMgZ2V0TW9yZSAoKSB7CiAgICAgIHRoaXMubG9hZGluZz10cnVlOwogICAgICBsZXQge2RhdGEsdG90YWx9ID0gYXdhaXQgZ2V0TW9yZSh0aGlzLnF1ZXJ5UGFyYW1zKTsKICAgICAgdGhpcy5sb2FkaW5nPWZhbHNlOwogICAgICB0aGlzLm1vcmVBcnIgPSBkYXRhO3RoaXMudG90YWw9dG90YWw7CiAgICB9LAogICAgaGFuZGxlUXVlcnkoKXsKICAgICAgdGhpcy5xdWVyeVBhcmFtcy5wYWdlPTE7CiAgICAgIHRoaXMuZ2V0TW9yZSgpCiAgICB9LAogICAgYXN5bmMgYWZmaXJtICgpIHsKICAgICAgdGhpcy4kcmVmc1sncnVsZUZvcm0nXS52YWxpZGF0ZShhc3luYyAodmFsaWQpID0+IHsKICAgICAgICBpZiAoIXZhbGlkKSByZXR1cm47CiAgICAgICAgdHJ5IHsKICAgICAgICAgIHRoaXMuYWRkTG9hZGluZz10cnVlOwogICAgICAgICAgIXRoaXMuZm9ybS5pZCYmYXdhaXQgYWRkTW9yZSh0aGlzLmZvcm0pOwogICAgICAgICAgdGhpcy5mb3JtLmlkJiZhd2FpdCB1cE1vcmUodGhpcy5mb3JtKTsKICAgICAgICAgIHRoaXMuYWRkTG9hZGluZz1mYWxzZTsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcyh0aGlzLmZvcm0uaWQ/IuS/ruaUueaIkOWKn++8gSI6Iua3u+WKoOaIkOWKn++8gSIpCiAgICAgICAgICB0aGlzLmdldE1vcmUoKTsKICAgICAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICAgIH1jYXRjaCAoZSkgewogICAgICAgICAgdGhpcy5hZGRMb2FkaW5nPWZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgb3BlbkRpYWxvZyAoKSB7CiAgICAgIHRoaXMuZm9ybSA9IHt9OwogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgfSwKICAgIGhhbmRsZUVkaXQgKGksIHJvdykgewogICAgICB0aGlzLmZvcm09ey4uLnJvd30KICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKCiAgICB9LAogICAgaGFuZGxlRGVsZXRlIChpbmRleCwgcm93KSB7CiAgICAgIHRoaXMuJGNvbmZpcm0oJ+atpOaTjeS9nOWwhuawuOS5heWIoOmZpOivpei0puWPtywg5piv5ZCm57un57utPycsICfmj5DnpLonLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgfSkudGhlbihhc3luYyAoKSA9PiB7CiAgICAgICAgYXdhaXQgZGVsTW9yZSh7IGlkOiByb3cuaWQgfSk7CiAgICAgICAgdGhpcy5nZXRNb3JlKCk7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICBtZXNzYWdlOiAn5Yig6Zmk5oiQ5Yqf77yBJywKICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgIH0pOwogICAgICB9KQogICAgfSwKICB9Cn0K"},{"version":3,"sources":["more.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"more.vue","sourceRoot":"src/views/admin","sourcesContent":["<template>\n  <div class=\"boxs\">\n    <el-form\n        :model=\"queryParams\"\n        ref=\"queryForm\"\n        :inline=\"true\"\n    >\n      <el-form-item label=\"账户名称\" prop=\"name\">\n        <el-input\n            v-model=\"queryParams.name\"\n            placeholder=\"请输入名称\"\n            clearable\n            size=\"small\"\n        />\n      </el-form-item>\n      <el-form-item>\n        <el-button\n            type=\"primary\"\n            icon=\"el-icon-search\"\n            size=\"small\"\n            @click=\"handleQuery\"\n        >搜索</el-button>\n      </el-form-item>\n    </el-form>\n    <el-button icon=\"el-icon-plus\" type=\"primary\" plain size=\"small\" @click=\"openDialog\">添加账号</el-button>\n\n    <el-table :data=\"moreArr\" v-loading=\"loading\">\n      <el-table-column label=\"编号\" align=\"center\" prop=\"id\" />\n      <el-table-column label=\"账号名称\" align=\"center\" prop=\"name\">\n        <template slot-scope=\"scope\">\n          {{scope.row.name}}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"备注\" align=\"center\" prop=\"remark\" />\n      <el-table-column label=\"创建时间\" align=\"center\" prop=\"createTime\" :formatter=\"formatterCreateTime\" />\n      <el-table-column align=\"center\" label=\"操作\">\n        <template slot-scope=\"scope\">\n          <el-button size=\"mini\" @click=\"handleEdit(scope.$index, scope.row)\">编辑</el-button>\n          <el-button size=\"mini\" type=\"danger\" @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <pagination\n        v-show=\"total > 0\"\n        :total=\"total\"\n        :page.sync=\"queryParams.page\"\n        :limit.sync=\"queryParams.size\"\n        @pagination=\"getMore\"\n    />\n\n    <el-dialog title=\"操作框\" :visible.sync=\"dialogVisible\" width=\"40%\">\n      <el-form class=\"demo-form-inline\" label-width=\"80px\" :model=\"form\" :rules=\"rules\" ref=\"ruleForm\">\n        <el-form-item label=\"账号名称\" prop=\"name\">\n          <el-input v-model=\"form.name\" placeholder=\"请输入账号名称\" />\n        </el-form-item>\n        <el-form-item label=\"备注说明\">\n          <el-input v-model=\"form.remark\" placeholder=\"请输入备注\" />\n        </el-form-item>\n      </el-form>\n\n      <div slot=\"footer\" class=\"dialog-footer\" v-loading=\"addLoading\">\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\n        <el-button :type=\"form.id ? 'warning' : 'primary'\" @click=\"affirm\">{{\n            form.id ? \"确认修改\" : \"确认添加\"\n        }}</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n<script>\nimport { addMore, getMore, upMore, delMore } from \"@/api/admin\";\nimport {formatDate} from \"@/utils\";\nexport default {\n  name:\"More\",\n  data () {\n    return {\n      queryParams:{\n        page:1,\n        size:10\n      },\n      total:0,\n      loading:false,\n      addLoading:false,\n      moreArr: [],\n      dialogVisible: false,\n      form: {\n        name: \"\",\n        remark: \"\"\n      },\n      search: \"\",\n      rules: {\n        name: [\n          { required: true, message: '请输入账号名称', trigger: 'blur' },\n          { min: 3, max: 15, message: '长度在 3 到 15 个字符', trigger: 'blur' }\n        ]\n      },\n      isChangePwd: false\n    }\n  },\n  created () {\n    this.getMore();\n  },\n  methods: {\n    formatterCreateTime(row){\n      return formatDate(row.createTime);\n    },\n    async getMore () {\n      this.loading=true;\n      let {data,total} = await getMore(this.queryParams);\n      this.loading=false;\n      this.moreArr = data;this.total=total;\n    },\n    handleQuery(){\n      this.queryParams.page=1;\n      this.getMore()\n    },\n    async affirm () {\n      this.$refs['ruleForm'].validate(async (valid) => {\n        if (!valid) return;\n        try {\n          this.addLoading=true;\n          !this.form.id&&await addMore(this.form);\n          this.form.id&&await upMore(this.form);\n          this.addLoading=false;\n          this.$message.success(this.form.id?\"修改成功！\":\"添加成功！\")\n          this.getMore();\n          this.dialogVisible = false;\n        }catch (e) {\n          this.addLoading=false;\n        }\n      });\n    },\n    openDialog () {\n      this.form = {};\n      this.dialogVisible = true;\n    },\n    handleEdit (i, row) {\n      this.form={...row}\n      this.dialogVisible = true;\n\n    },\n    handleDelete (index, row) {\n      this.$confirm('此操作将永久删除该账号, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'error'\n      }).then(async () => {\n        await delMore({ id: row.id });\n        this.getMore();\n        this.$message({\n          message: '删除成功！',\n          type: 'success'\n        });\n      })\n    },\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n.boxs {\n  padding: 20px;\n}\n</style>\n"]}]}